{
  "permissions": {
    "allow": [
      "Bash(curl:*)",
      "Bash(BASE_URL=\"http://localhost:42673\" CONFIG_ID=\"u0OIoJuzVQltWw0dtWNY2\" bash -c '\n# Test 4: Convert to Gemini format (AI conversion)\necho \"\"=== Test 4: GET /api/configs/:id/format/gemini (Claude Code → Gemini) ===\"\" \nSTART_TIME=$(date +%s%N)\nRESPONSE=$(curl -s -X GET \"\"$BASE_URL/api/configs/$CONFIG_ID/format/gemini\"\")\nEND_TIME=$(date +%s%N)\nDURATION=$((($END_TIME - $START_TIME) / 1000000))\necho \"\"$RESPONSE\"\" | jq .\necho \"\"Duration: ${DURATION}ms\"\"\n\n# Test 5: Convert to Gemini format again (should be cached)\necho -e \"\"\\n=== Test 5: GET /api/configs/:id/format/gemini (Cached) ===\"\" \nSTART_TIME=$(date +%s%N)\nRESPONSE=$(curl -s -X GET \"\"$BASE_URL/api/configs/$CONFIG_ID/format/gemini\"\")\nEND_TIME=$(date +%s%N)\nDURATION=$((($END_TIME - $START_TIME) / 1000000))\necho \"\"$RESPONSE\"\" | jq .\necho \"\"Duration: ${DURATION}ms\"\"\n\n# Test 6: Convert to Codex format\necho -e \"\"\\n=== Test 6: GET /api/configs/:id/format/codex (Claude Code → Codex) ===\"\" \ncurl -s -X GET \"\"$BASE_URL/api/configs/$CONFIG_ID/format/codex\"\" | jq .\n')",
      "Bash(BASE_URL=\"http://localhost:42673\" bash -c '\n# Test 7: Create a config with Gemini format (TOML)\necho \"\"=== Test 7: POST /api/configs (Gemini format) ===\"\" \nRESPONSE=$(curl -s -X POST \"\"$BASE_URL/api/configs\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d '\"''\"'{\n    \"\"name\"\": \"\"Test Gemini Command\"\",\n    \"\"type\"\": \"\"slash_command\"\",\n    \"\"original_format\"\": \"\"gemini\"\",\n    \"\"content\"\": \"\"description = \\\"\"Deploy application\\\"\"\\nprompt = \\\"\"\\\"\"\\\"\"\\nDeploy the application to production\\n\\\"\"\\\"\"\\\"\"\\nargs = [{name = \\\"\"environment\\\"\", type = \\\"\"string\\\"\", description = \\\"\"Target environment\\\"\"}]\"\"\n  }'\"''\"')\necho \"\"$RESPONSE\"\" | jq -c .\nGEMINI_CONFIG_ID=$(echo \"\"$RESPONSE\"\" | jq -r .config.id)\necho \"\"Created Gemini config ID: $GEMINI_CONFIG_ID\"\"\n\n# Test 8: Convert Gemini to Claude Code format\necho -e \"\"\\n=== Test 8: GET /api/configs/:id/format/claude_code (Gemini → Claude Code) ===\"\" \nSTART_TIME=$(date +%s%N)\nRESPONSE=$(curl -s -X GET \"\"$BASE_URL/api/configs/$GEMINI_CONFIG_ID/format/claude_code\"\")\nEND_TIME=$(date +%s%N)\nDURATION=$((($END_TIME - $START_TIME) / 1000000))\necho \"\"$RESPONSE\"\" | jq .\necho \"\"Duration: ${DURATION}ms\"\"\n\n# Test 9: Convert Gemini to Codex format\necho -e \"\"\\n=== Test 9: GET /api/configs/:id/format/codex (Gemini → Codex) ===\"\" \ncurl -s -X GET \"\"$BASE_URL/api/configs/$GEMINI_CONFIG_ID/format/codex\"\" | jq .\n')",
      "Bash(BASE_URL=\"http://localhost:37695\" CONFIG_ID=\"5E2qxYryexRcidd3khSH6\" bash -c '\necho \"\"======================================\"\"\necho \"\"FORMAT CONVERSION TESTS\"\"\necho \"\"======================================\"\"\necho \"\"\"\"\n\n# Test 4: Convert to Gemini format (AI conversion)\necho \"\"=== Test 4: GET /api/configs/:id/format/gemini (Claude Code → Gemini) ===\"\" \necho \"\"First request (should use AI or fallback)...\"\"\nSTART_TIME=$(date +%s%N)\nRESPONSE=$(curl -s -X GET \"\"$BASE_URL/api/configs/$CONFIG_ID/format/gemini\"\")\nEND_TIME=$(date +%s%N)\nDURATION=$((($END_TIME - $START_TIME) / 1000000))\necho \"\"$RESPONSE\"\" | jq .\necho \"\"Duration: ${DURATION}ms\"\"\necho \"\"\"\"\n\n# Test 5: Convert to Gemini format again (should be cached)\necho \"\"=== Test 5: GET /api/configs/:id/format/gemini (Cached) ===\"\" \nSTART_TIME=$(date +%s%N)\nRESPONSE=$(curl -s -X GET \"\"$BASE_URL/api/configs/$CONFIG_ID/format/gemini\"\")\nEND_TIME=$(date +%s%N)\nDURATION=$((($END_TIME - $START_TIME) / 1000000))\necho \"\"$RESPONSE\"\" | jq .\necho \"\"Duration: ${DURATION}ms\"\"\necho \"\"\"\"\n\n# Test 6: Convert to Codex format\necho \"\"=== Test 6: GET /api/configs/:id/format/codex (Claude Code → Codex) ===\"\" \ncurl -s -X GET \"\"$BASE_URL/api/configs/$CONFIG_ID/format/codex\"\" | jq .\necho \"\"\"\"\n')",
      "Bash(BASE_URL=\"http://localhost:37695\" bash -c '\necho \"\"======================================\"\"\necho \"\"GEMINI FORMAT TESTS\"\"\necho \"\"======================================\"\"\necho \"\"\"\"\n\n# Test 7: Create a config with Gemini format (TOML)\necho \"\"=== Test 7: POST /api/configs (Gemini format) ===\"\" \nRESPONSE=$(curl -s -X POST \"\"$BASE_URL/api/configs\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d @- <<'\"''\"'EOF'\"''\"'\n{\n  \"\"name\"\": \"\"Gemini Deploy Command\"\",\n  \"\"type\"\": \"\"slash_command\"\",\n  \"\"original_format\"\": \"\"gemini\"\",\n  \"\"content\"\": \"\"description = \\\"\"Deploy application\\\"\"\\nprompt = \\\"\"Deploy the application to the specified environment\\\"\"\\nargs = []\"\"\n}\nEOF\n)\necho \"\"$RESPONSE\"\" | jq .\nGEMINI_CONFIG_ID=$(echo \"\"$RESPONSE\"\" | jq -r \"\".config.id // empty\"\")\necho \"\"Created Gemini config ID: $GEMINI_CONFIG_ID\"\"\necho \"\"\"\"\n\nif [ ! -z \"\"$GEMINI_CONFIG_ID\"\" ] && [ \"\"$GEMINI_CONFIG_ID\"\" != \"\"null\"\" ]; then\n  # Test 8: Convert Gemini to Claude Code format\n  echo \"\"=== Test 8: GET /api/configs/:id/format/claude_code (Gemini → Claude Code) ===\"\" \n  START_TIME=$(date +%s%N)\n  RESPONSE2=$(curl -s -X GET \"\"$BASE_URL/api/configs/$GEMINI_CONFIG_ID/format/claude_code\"\")\n  END_TIME=$(date +%s%N)\n  DURATION=$((($END_TIME - $START_TIME) / 1000000))\n  echo \"\"$RESPONSE2\"\" | jq .\n  echo \"\"Duration: ${DURATION}ms\"\"\n  echo \"\"\"\"\n  \n  # Test 9: Convert Gemini to Codex format\n  echo \"\"=== Test 9: GET /api/configs/:id/format/codex (Gemini → Codex) ===\"\" \n  curl -s -X GET \"\"$BASE_URL/api/configs/$GEMINI_CONFIG_ID/format/codex\"\" | jq .\n  echo \"\"\"\"\nfi\n')",
      "Bash(BASE_URL=\"http://localhost:37695\" bash -c '\ncurl -s -X POST \"\"$BASE_URL/api/configs\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d '\"''\"'{\n    \"\"name\"\": \"\"Gemini Deploy Command\"\",\n    \"\"type\"\": \"\"slash_command\"\",\n    \"\"original_format\"\": \"\"gemini\"\",\n    \"\"content\"\": \"\"description = \\\"\"Deploy application\\\"\"\\nprompt = \\\"\"Deploy the application\\\"\"\\nargs = []\"\"\n  }'\"''\"'\n')",
      "Bash(wrangler d1 execute:*)",
      "Read(//tmp/test-plugin/**)",
      "Read(//tmp/**)",
      "Bash(unzip:*)",
      "Bash(while read path)",
      "Bash(do echo \"Checking $path...\")",
      "Bash([ -d \"$path\" ])",
      "Bash(done)",
      "Bash(for plugin in plugins/*)",
      "Bash(do echo \"Checking $plugin...\")",
      "Bash([ -f \"$plugin/.claude-plugin/plugin.json\" ])",
      "Bash([ -d \"$plugin/commands\" ])",
      "Bash([ -f \"$plugin/.mcp.json\" ])",
      "Skill(conventional-commit)",
      "Skill(dependency-auditor)",
      "SlashCommand(/completeWork)",
      "Bash(bash -c '\nOVERALL_PCT=63.76\nCOLOR=\"\"red\"\"\nif (( $(echo \"\"$OVERALL_PCT >= 80\"\" | bc -l) )); then\n  COLOR=\"\"brightgreen\"\"\nelif (( $(echo \"\"$OVERALL_PCT >= 60\"\" | bc -l) )); then\n  COLOR=\"\"yellow\"\"\nelif (( $(echo \"\"$OVERALL_PCT >= 40\"\" | bc -l) )); then\n  COLOR=\"\"orange\"\"\nfi\necho \"\"Coverage: $OVERALL_PCT%\"\"\necho \"\"Badge Color: $COLOR\"\"\n')",
      "Bash(for dir in /root/Code/agent-config-adapter/taskNotes/*/)",
      "Bash(do echo '=== $(basename $dir) ===')",
      "Bash(gh issue create:*)",
      "Bash(gh issue close:*)",
      "Bash(for dir in ai-gateway-migration config-filter-search extension-marketplace gemini-ui-workers-ai marketplace-zip-manifest-fix mcp-config-adapter mcp-server-integration plugin-file-generation skills-integration test-coverage-ci ui-edit-cache-invalidation)",
      "Bash(do if [ -d \"$dir\" ])",
      "Bash(then mv \"$dir\" \"[toDelete]_$dir\")",
      "Bash(fi)",
      "Bash(gh issue list:*)",
      "Bash(chmod:*)",
      "Bash(xargs:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr view:*)",
      "Bash(gh api:*)",
      "Bash(tee:*)",
      "Bash(gh auth status:*)",
      "Bash(for issue_num in {29..43})",
      "Bash(do)",
      "Bash(gh run list:*)",
      "Bash(pkill:*)",
      "Bash(jq:*)",
      "Bash(OAUTH_TOKEN=\"vpkZZlos27-gADL2KirV-YHpH0l5VIJnGeHtRiccYjc.UX9GlWRKlb1BB5iZIhnnA-CDaOVqlnXMbbcQ3tVMkYE\")",
      "Bash(ACCOUNT_ID=\"b286748abb233ddf7bf942f876f11eac\")",
      "Bash(/root/.claude/skills/cf-analytics-engine/scripts/query.sh:*)",
      "Bash(bash /root/.claude/skills/cf-analytics-engine/scripts/query.sh:*)",
      "mcp__memory-server__list_memories",
      "mcp__memory-server__get_memory",
      "mcp__memory-server__add_tags",
      "Bash(paste:*)",
      "Bash(openssl rand:*)",
      "mcp__browser__browser_click"
    ],
    "deny": [],
    "ask": []
  }
}
