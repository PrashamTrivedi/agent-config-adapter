{
  // Production configuration for agent-config-adapter
  "name": "agent-config-adapter",
  "main": "src/index.ts",
  "compatibility_date": "2024-09-23",
  "compatibility_flags": ["nodejs_compat"],
  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "agent-config-adapter",
      "database_id": "c3265e5e-c691-4d95-9888-748de81941ee"
    }
  ],
  "kv_namespaces": [
    {
      "binding": "CONFIG_CACHE",
      "id": "ede83b375aeb47e69d514c7ef0529da8"
    }
  ],
  "r2_buckets": [
    {
      "binding": "EXTENSION_FILES",
      "bucket_name": "agent-config-extension-files"
    }
  ],
  "vars": {
    // Cloudflare Configuration
    "ACCOUNT_ID": "b286748abb233ddf7bf942f876f11eac",
    "GATEWAY_ID": "ai-agent-adapter",

    // Multi-Provider Configuration
    // Provider Selection: 'openai' | 'gemini' | 'auto' (auto = prefer Gemini, fallback to OpenAI)
    "AI_PROVIDER": "auto",

    // OpenAI Reasoning Mode: 'high' | 'medium' | 'low' | 'minimal'
    "OPENAI_REASONING_MODE": "low",

    // Gemini Thinking Budget: "0" (disable) to "24576" (max), or "-1" (dynamic)
    "GEMINI_THINKING_BUDGET": "0"

    // MCP Admin Token Hash (INTERNAL DOCS ONLY - NOT PUBLIC)
    // SHA-256 hash of admin token for /mcp/admin endpoint
    // This is a WORKER SECRET - NOT a var! Set using wrangler CLI:
    //
    // Production setup:
    //   1. Generate strong token: tsx scripts/hash-token.ts "$(openssl rand -hex 32)"
    //   2. Save token securely (password manager)
    //   3. Copy hash and run: npx wrangler secret put MCP_ADMIN_TOKEN_HASH
    //   4. Paste hash when prompted
    //
    // Local development:
    //   - Set MCP_ADMIN_TOKEN_HASH in .dev.vars file
    //   - See .dev.vars.example for test token hash
    //
    // IMPORTANT: This is a temporary security measure until full user auth is implemented
    // Secret name: MCP_ADMIN_TOKEN_HASH (set via wrangler CLI, not in this file)
  },
  "observability": {
    "logs": {
      "enabled": true
    }
  }
}
