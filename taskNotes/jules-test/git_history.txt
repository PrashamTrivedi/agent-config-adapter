COMMIT: 2811901
DATE: 2025-11-20
AUTHOR: PrashamTrivedi
SUBJECT: üêõ fix: Add graceful Analytics Engine handling for local development
BODY:
Co-Authored-By: Claude <noreply@anthropic.com>

STAT:

 .claude/additionalSettings.example.json            |    7 +
 .claude/additionalSettings.json                    |    4 +
 .claude/hooks/README.md                            |  487 ++
 .claude/hooks/session-start.sh                     |  304 +
 .claude/settings.json                              |    3 +
 .dev.vars.example                                  |  101 +
 .env.sample                                        |    8 +
 .github/workflows/test-coverage.yml                |  268 +
 .gitignore                                         |   45 +
 AGENTS.md                                          |    1 +
 ANALYTICS_TEST_REPORT.md                           |  467 ++
 CLAUDE.md                                          |  381 ++
 DOCKER-CLAUDE.md                                   |  261 +
 DOCKER-QUICK-START.md                              |  131 +
 Dockerfile                                         |   32 +
 GEMINI.md                                          |    1 +
 LOGGING_IMPROVEMENTS.md                            |  213 +
 README.md                                          | 1003 +++
 TESTING_PLAN.md                                    |  116 +
 backend-validation.md                              |  568 ++
 claude.md                                          |    1 +
 docker-compose.yml                                 |   41 +
 docker-entrypoint.sh                               |   36 +
 docker-shell.sh                                    |   54 +
 migrations/0001_create_configs_table.sql           |   15 +
 migrations/0002_add_updated_at.sql                 |    2 +
 migrations/0003_replace_jules_with_gemini.sql      |   30 +
 .../0004_add_extensions_and_marketplaces.sql       |   82 +
 migrations/0005_add_skill_config_type.sql          |   33 +
 migrations/0006_add_skill_files.sql                |   14 +
 migrations/0007_add_slash_command_metadata.sql     |   15 +
 package-lock.json                                  | 6853 ++++++++++++++++++++
 package.json                                       |   58 +
 prompt-analysis.md                                 |  872 +++
 scripts/hash-token.ts                              |   40 +
 seeds/example-configs.sql                          |  107 +
 seeds/example-extensions.sql                       |   76 +
 seeds/example-skills.sql                           |  141 +
 src/adapters/CLAUDE.md                             |  107 +
 src/adapters/index.ts                              |  152 +
 src/adapters/mcp-config-adapter.ts                 |  164 +
 src/adapters/slash-command-adapter.ts              |  169 +
 src/adapters/types.ts                              |    9 +
 src/domain/CLAUDE.md                               |   35 +
 src/domain/types.ts                                |  357 +
 src/index.ts                                       |  463 ++
 src/infrastructure/CLAUDE.md                       |   58 +
 src/infrastructure/ai-converter.ts                 |   97 +
 src/infrastructure/ai/CLAUDE.md                    |   71 +
 src/infrastructure/ai/gemini-provider.ts           |  507 ++
 src/infrastructure/ai/openai-provider.ts           |  215 +
 src/infrastructure/ai/provider-factory.ts          |  115 +
 src/infrastructure/ai/types.ts                     |  171 +
 src/infrastructure/cache.ts                        |   32 +
 src/infrastructure/database.ts                     |  185 +
 src/infrastructure/extension-repository.ts         |  199 +
 src/infrastructure/file-storage-repository.ts      |   73 +
 src/infrastructure/marketplace-repository.ts       |  223 +
 src/infrastructure/skill-files-repository.ts       |   93 +
 src/mcp/CLAUDE.md                                  |   56 +
 src/mcp/auth.ts                                    |   58 +
 src/mcp/index.ts                                   |    3 +
 src/mcp/server.ts                                  |  524 ++
 src/mcp/transport.ts                               |   66 +
 src/mcp/types.ts                                   |   68 +
 src/middleware/CLAUDE.md                           |   79 +
 src/middleware/email-gate.ts                       |   59 +
 src/middleware/lockdown.ts                         |   20 +
 src/prompts.ts                                     |  294 +
 src/routes/CLAUDE.md                               |   60 +
 src/routes/configs.ts                              |  344 +
 src/routes/extensions.ts                           |  330 +
 src/routes/files.ts                                |  143 +
 src/routes/marketplaces.ts                         |  297 +
 src/routes/onboarding.ts                           |   40 +
 src/routes/plugins.ts                              |  473 ++
 src/routes/skills.ts                               |  346 +
 src/routes/slash-command-converter.ts              |  279 +
 src/routes/subscriptions.ts                        |  197 +
 src/services/CLAUDE.md                             |  101 +
 src/services/analytics-service.ts                  |  116 +
 src/services/config-service.ts                     |  157 +
 src/services/conversion-service.ts                 |  184 +
 src/services/email-service.ts                      |  102 +
 src/services/extension-service.ts                  |  161 +
 src/services/file-generation-service.ts            |  420 ++
 src/services/file-storage-service.ts               |  150 +
 src/services/index.ts                              |   10 +
 src/services/manifest-service.ts                   |  345 +
 src/services/marketplace-service.ts                |  154 +
 src/services/skill-zip-service.ts                  |  173 +
 src/services/skills-service.ts                     |  276 +
 src/services/slash-command-analyzer-service.ts     |  115 +
 src/services/slash-command-converter-service.ts    |  273 +
 src/services/subscription-service.ts               |  108 +
 src/services/zip-generation-service.ts             |  211 +
 src/views/CLAUDE.md                                |   64 +
 src/views/configs.ts                               |  512 ++
 src/views/extensions.ts                            |  650 ++
 src/views/icons.ts                                 |  413 ++
 src/views/layout.ts                                | 2035 ++++++
 src/views/marketplaces.ts                          |  519 ++
 src/views/onboarding.ts                            |  761 +++
 src/views/plugin-browser.ts                        |  401 ++
 src/views/skills.ts                                |  531 ++
 src/views/slash-command-converter.ts               |  413 ++
 src/views/subscriptions.ts                         |  160 +
 .../currentCommitHash                              |    1 +
 .../taskFindings.md                                |  846 +++
 taskNotes/email-gating-uploads/currentCommitHash   |    1 +
 taskNotes/email-gating-uploads/taskFindings.md     |  566 ++
 taskNotes/email-gating-uploads/v1/QA-SUMMARY.txt   |  135 +
 .../email-gating-uploads/v1/backend-validation.md  |  719 ++
 taskNotes/email-gating-uploads/v1/taskFindings.md  |  880 +++
 taskNotes/icp-onboarding-pages/taskFindings.md     |    1 +
 .../icp-onboarding-pages/v1/currentCommitHash      |    1 +
 taskNotes/icp-onboarding-pages/v1/taskFindings.md  |  162 +
 .../icp-onboarding-pages/v2/currentCommitHash      |    1 +
 taskNotes/icp-onboarding-pages/v2/taskFindings.md  |  284 +
 taskNotes/marketingNotes/ICPJTBD.md                |  310 +
 taskNotes/mcp-basic-full-split/currentCommitHash   |    1 +
 taskNotes/mcp-basic-full-split/taskFindings.md     |  789 +++
 taskNotes/upload-lockdown-bugfix/currentCommitHash |    1 +
 taskNotes/upload-lockdown-bugfix/taskFindings.md   |  323 +
 taskNotes/upload-lockdown-bugfix/validation.md     |  175 +
 test-individual-files.sh                           |   39 +
 test-plugin-download.sh                            |   74 +
 testPlan/BACKEND_TEST_PLAN.md                      | 1649 +++++
 tests/adapters/index.test.ts                       |  271 +
 tests/adapters/slash-command-adapter.test.ts       |  291 +
 tests/infrastructure/ai/gemini-provider.test.ts    |  392 ++
 tests/infrastructure/ai/openai-provider.test.ts    |  342 +
 tests/infrastructure/ai/provider-factory.test.ts   |  296 +
 tests/infrastructure/cache.test.ts                 |  192 +
 tests/infrastructure/database.test.ts              |  348 +
 .../infrastructure/file-storage-repository.test.ts |  217 +
 .../infrastructure/skill-files-repository.test.ts  |  272 +
 tests/mcp-config-adapter.test.ts                   |  324 +
 tests/mcp/auth.test.ts                             |  118 +
 tests/mcp/server.test.ts                           |  237 +
 tests/routes/skills.test.ts                        |  677 ++
 tests/services/binary-files.test.ts                |   98 +
 tests/services/config-service.test.ts              |  345 +
 tests/services/conversion-service.test.ts          |  329 +
 tests/services/extension-service.test.ts           |  344 +
 tests/services/file-generation-service.test.ts     |  511 ++
 tests/services/file-storage-service.test.ts        |  394 ++
 tests/services/manifest-service.test.ts            |  637 ++
 tests/services/marketplace-service.test.ts         |  280 +
 tests/services/skill-zip-service.test.ts           |  107 +
 tests/services/skills-service.test.ts              |  847 +++
 .../slash-command-converter-service.test.ts        |  325 +
 tests/setup.ts                                     |    6 +
 tests/test-utils.ts                                |  201 +
 tests/views/configs.test.ts                        |  365 ++
 tests/views/extensions.test.ts                     |  347 +
 tests/views/layout.test.ts                         |  199 +
 tests/views/marketplaces.test.ts                   |  418 ++
 tsconfig.json                                      |   19 +
 tsconfig.tsbuildinfo                               |    1 +
 vitest.config.ts                                   |   29 +
 wrangler.jsonc                                     |   88 +
 162 files changed, 46442 insertions(+)
